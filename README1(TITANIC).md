# 机器学习与交通运输
## 入门与基础
## 项目: 泰坦尼克号乘客幸存率
 案例背景

 泰坦尼克号沉船事故是世界上最著名的沉船事故之一。1912年4月15日，在她的处女航期间，泰坦尼克号撞上冰山后沉没，造成2224名乘客和机组人员中超过1502人的死亡。这一轰动的悲剧震惊了国际社会，并导致更好的船舶安全法规。事故中导致死亡的一个原因是许多船员和乘客没有足够的救生艇。然而在被获救群体中也有一些比较幸运的因素；一些人群在事故中被救的几率高于其他人，比如妇女、儿童和上层阶级。 这个Case里，我们需要分析和判断出什么样的人更容易获救。最重要的是，要利用机器学习来预测出在这场灾难中哪些人会最终获救；
 此项目数据集分为2份数据集titanic_train.csv和titanic_test.csv
 titanic_train.csv: 训练集，共计891条数据
 titanic_test.csv: 测试集，共计418条数据

### 安装要求

这个项目需要安装 **Python** 以及安装下列python库

- [NumPy](http://www.numpy.org/)
- [Pandas](http://pandas.pydata.org)
- [matplotlib](http://matplotlib.org/)
- [scikit-learn](http://scikit-learn.org/stable/)

你还需要安装和运行 Jupyter Notebook。

如果你还没有安装python，这里强烈推荐你安装Anaconda，一个包含了项目需要的所有库和软件的python发行版本。这里介绍了如何安装Anaconda。
如果你使用macOS系统并且对命令行比较熟悉，可以安装homebrew，以及brew版python。

```bash
$ brew install python
```
再用下列命令安装所需要的python库

```bash
$ pip install numpy pandas matplotlib scikit-learn scipy jupyter
```

### 代码

核心代码在 `titanic survival exploration.ipynb` 文件中，辅助代码在 `titanic_visualizations.py` 文件中。尽管已经提供了一些代码帮助你上手，你还是需要补充些代码使得项目要求的功能能够成功实现。
### 运行

在命令行中，确保当前目录为 titanic_survival_exploration/ 文件夹的最顶层（目录包含本 README 文件），运行下列命令：
```bash
jupyter notebook titanic_survival_exploration.ipynb
```
or
```bash
ipython notebook titanic_survival_exploration.ipynb
```

这会启动 Jupyter Notebook 把项目文件打开在你的浏览器中。

### 数据

​ 这个项目的数据包含在 `titanic_data.csv`。 文件包含下列特征：

**Survived**：是否存活（0代表否，1代表是）
- **Pclass**：社会阶级（1代表上层阶级，2代表中层阶级，3代表底层阶级）
- **Name**：船上乘客的名字
- **Sex**：船上乘客的性别
- **Age**：船上乘客的年龄（可能存在 `NaN`）
- **SibSp**：乘客在船上的兄弟姐妹和配偶的数量
- **Parch**：乘客在船上的父母以及小孩的数量
- **Ticket**：乘客船票的编号
- **Fare**：乘客为船票支付的费用
- **Cabin**：乘客所在船舱的编号（可能存在 `NaN`）
- **Embarked**：乘客上船的港口（C 代表从 Cherbourg 登船，Q 代表从 Queenstown 登船，S 代表从 Southampton 登船）

 ### 分析

在此预测中，我们首先分析了数据以发现年龄，性别，阶级以及配偶，子女和兄弟的数量是生存的重要因素，因此我们进行了深入分析，以找出影响生存的重要因素率：

1.未满10岁的乘客可以生存

2.一，二等舱女乘客首先生存。亲属数为0时，三等女性的成活率更高。

3.年龄在20至45岁之间的乘客生存率更高

通过分析数据的特征，逐步调试将预测准确率提高到80.81％。同时，由于在这种情况下只有两个输出结果，因此我们使用线性分类器进行预测。结果为80.26%，表明该决策树算法更适合这种情况。

**优点**

1.通过对数据的深入分析，合理划分分支机构可以快速提高预测的准确性,易于理解和解释，因为可以绘制和看到树状图

2.需要很少的数据准备。许多其他算法通常需要数据规范化，创建伪变量并删除空值。但是请注意，sklearn中的决策树模块不支持缺失值的处理。

3.使用树的成本（例如，在预测数据时）是用于训练树的数据点数量的对数，与其他算法相比，这是非常低的成本。

4.能够处理数字和分类数据，以进行回归和分类。通常使用其他技术来分析仅具有一种变量类型的数据集。

5.能够处理多个输出问题，即多个标签的问题，注意区别于一个标签中多个标签的问题

6.这是一个白盒模型，其结果很容易解释。如果可以在模型中观察到给定情况，则可以通过布尔逻辑轻松解释条件。

 ### 总结
在对数据进行探索和条件调整之后，您已经建立了一个有用的算法来预测RMS Titanic上每个乘客的生存情况。此项目中应用的技术是简单的机器学习模型（决策树）的手动实现。决策树一次按一个功能将一组数据分成越来越小的组（称为节点）。每当每个数据子集被分割时，如果每个结果子组比以前更均质（包含相似标签），我们的预测将变得更加准确。拥有一台计算机为我们做事的好处是，与我们上面的手动探索相比，它会更详尽，更精确。该链接为使用决策树的机器学习提供了另一种介绍。

同时我通过使用线性分类器进行预测，将其预测结果和之前的决策树的预测结果进行对比，我们发现相比之下决策树的准确率更高，因此权衡之下我们可以选用决策树法。如果需要更准确的我们还可以选用svm、随机森林、Adaboost、KNN以及Xgboost。

对jupyter不熟悉的同学可以看一下下面链接。
[Jupyter使用视频教程](http://cn-static.udacity.com/mlnd/how_to_use_jupyter.mp4)
- [为什么使用jupyter？](https://www.zhihu.com/question/37490497)